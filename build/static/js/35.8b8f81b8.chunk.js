(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[35],{1068:function(e,t,a){e.exports={container:"Invoice.component_container__2Tqhd",header:"Invoice.component_header__OM3NE",title:"Invoice.component_title__2Pt6r",body:"Invoice.component_body__2wY_9",items:"Invoice.component_items__1QoX6",image:"Invoice.component_image__1DezS",item:"Invoice.component_item__10q90",itemTitle:"Invoice.component_itemTitle__N-HZA",itemDescription:"Invoice.component_itemDescription__ORSSP",table:"Invoice.component_table__1lhBE",actions:"Invoice.component_actions__3RI44",action:"Invoice.component_action__3G3dh",reject:"Invoice.component_reject__BgVm-",itemsImage:"Invoice.component_itemsImage__1LVYc"}},1069:function(e,t,a){e.exports={formContainer:"TransactionSearchForm.component_formContainer__3AgVe",button:"TransactionSearchForm.component_button__WGesk",inlineGroup:"TransactionSearchForm.component_inlineGroup__3GKag",formGroup:"TransactionSearchForm.component_formGroup__F18n6",buttonContainer:"TransactionSearchForm.component_buttonContainer__3lC2U"}},1222:function(e,t,a){"use strict";a.r(t);a(244);var n=a(159),r=a(1),c=a.n(r),l=a(43),i=a(44),s=a(46),o=a(45),m=a(47),u=a(0),d=a.n(u),p=a(110),E=a.n(p),_=a(139),h=a.n(_),b=a(48),v=a(243),f=a(120),N=a(1068),y=a.n(N),g=a(61),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).makeDecisionWith=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e?"Accept":"Reject",n.next=3,c.a.awrap(E()({title:"Are you sure you want to ".concat(t," this invoice"),type:"confirm",buttons:["No","Yes, I am sure!"],dangerMode:!0}));case 3:n.sent&&a.props.updateTransaction({status:e,banker_role_user_id:a.props.role.id,bank_id:a.props.role.organization_profile_id,reference_number:a.props.transaction.reference_number});case 5:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e={field:"id"};e.value=this.props.transaction_id,this.props.get(e),console.dir(this.props.role)}},{key:"render",value:function(){var e,t=this;if(200===this.props.get_single_transaction_status){var a,n,r,c,l=this.props.transaction;this.props.transaction.model;0===l.status&&(a=d.a.createElement("div",{className:y.a.actions},d.a.createElement("div",{className:y.a.action,onClick:function(){return t.makeDecisionWith(!1)}},d.a.createElement("a",{className:y.a.reject},"Reject")),d.a.createElement("div",{className:y.a.action,onClick:function(){return t.makeDecisionWith(!0)}},d.a.createElement(f.a,null,"Mark Paid")))),1===l.status&&(a=d.a.createElement("div",{className:y.a.actions},d.a.createElement("div",{className:y.a.action},d.a.createElement(f.a,null,"VERIFIED & ACTIVE"))),n=d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:y.a.item},d.a.createElement("div",{className:y.a.itemTitle},"Verifier"),d.a.createElement("div",{className:y.a.itemDescription},d.a.createElement("div",null,l.verifier.first_name," ",l.verifier.last_name," ",l.verifier.middle_name)))),r=d.a.createElement(d.a.Fragment,null,d.a.createElement("th",null,"Confirmed Date")),c=d.a.createElement(d.a.Fragment,null,d.a.createElement("td",null,h()(l.confirmed_date.date).format("Do MMMM YYYY")))),2===l.status&&(a=d.a.createElement("div",{className:y.a.actions},d.a.createElement("div",{className:y.a.action},d.a.createElement(f.a,null,"REJECTED")))),e=d.a.createElement("div",{className:y.a.container},d.a.createElement("div",{className:"card-header"},d.a.createElement("div",{className:y.a.ref_number_title},d.a.createElement("div",{className:y.a.ref_number},"1022020200202"),d.a.createElement("div",{className:"h3"},"INVOICE")),d.a.createElement("div",{className:y.a.date},"Osun Health Insurance Scheme")),d.a.createElement("div",{className:y.a.body},d.a.createElement("div",{className:y.a.itemsImage},d.a.createElement("div",{className:y.a.items},d.a.createElement("div",{className:y.a.item},d.a.createElement("div",{className:y.a.itemTitle},"Enrollee"),d.a.createElement("div",{className:y.a.itemDescription},d.a.createElement("div",null,l.owner.first_name," ",l.owner.last_name," ",l.owner.middle_name),d.a.createElement("div",null,l.owner.enrollee_id))),d.a.createElement("div",{className:y.a.item},d.a.createElement("div",{className:y.a.itemTitle},"Provider"),d.a.createElement("div",{className:y.a.itemDescription},d.a.createElement("div",null,l.model.provider_name),d.a.createElement("div",null,l.model.provider_code))),d.a.createElement("div",{className:y.a.item},d.a.createElement("div",{className:y.a.itemTitle},"Amount"),d.a.createElement("div",{className:y.a.itemDescription},d.a.createElement("div",null,"NGN ",Number(l.amount).toLocaleString()))),n),d.a.createElement("div",{className:y.a.image},d.a.createElement("img",{src:l.model.picture}))),d.a.createElement("div",{className:"table-responsive-sm"},d.a.createElement("table",{className:"table table-striped"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Issued Date"),d.a.createElement("th",null,"Policy Name"),d.a.createElement("th",null,"Duration"),d.a.createElement("th",null,"Reference Number"),r)),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,l.type),d.a.createElement("td",null,h()(l.created_at.date).format("Do MMMM YYYY")),d.a.createElement("td",null,l.model.policy_name),d.a.createElement("td",null,l.model.policy_duration," Months"),d.a.createElement("td",null,l.reference_number),c))))),a)}return d.a.createElement(d.a.Fragment,null,e)}}]),t}(d.a.Component),O=Object(b.b)((function(e){return{role:e.ChoseRoleReducer.role,auth_user_id:e.AuthReducer.id,transaction:e.TransactionReducer.transaction,get_single_transaction_status:e.TransactionReducer.get_single_transaction_status,online_payment_status:e.TransactionReducer.online_payment_status,update_transaction_status:e.TransactionReducer.update_transaction_status}}),(function(e){return{get:function(t){return e(Object(g.a)(t))},updateTransaction:function(t){return e(Object(g.q)(t))},startConfirmOnlinePayment:function(t){return e(Object(g.l)(t))}}}))(S),j=a(595),T=a(590),k=a(594),F=a(592),I=a(593),R=a(137),w=a(584),D=a(585),C=a(1069),A=a.n(C),M=a(160),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return d.a.createElement("form",{onSubmit:this.props.handleSubmit},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement(w.a,{name:"enrollee_id",component:R.a,label:"Search By Enrollee ID",validate:[M.h]}))),d.a.createElement("hr",null),d.a.createElement("div",{className:A.a.buttonContainer},d.a.createElement("div",{className:A.a.button,onClick:this.props.cancel},"Cancel"),d.a.createElement("div",{className:A.a.button},d.a.createElement(f.a,{disabled:this.props.invalid||this.props.pristine,submittingForm:this.props.submittingForm},"Search"))))}}]),t}(d.a.Component),Y=Object(D.a)({form:"TransactionSearchForm"})(x),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={transaction:null,submittingForm:!1},a.handleSubmit=function(e){a.setState({submittingForm:!0},(function(){a.props.getAllForUser({field:"enrollee_id",value:e.enrollee_id})}))},a.cancelHandler=function(){a.props.transactionGetUserReset(),a.props.reset("TransactionSearchForm")},a.activeTransactionHandler=function(e){return a.setState({transaction:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.props.status===e.status){t.next=11;break}if(200!==this.props.status){t.next=6;break}return t.next=4,c.a.awrap(E()({title:"Good job!",text:"User Found, Pick a transaction to update status!",icon:"success",closeOnClickOutside:!1}));case 4:t.sent&&this.setState({submittingForm:!1});case 6:if(404!=this.props.status){t.next=11;break}return t.next=9,c.a.awrap(E()({title:"Opps",text:"No User Found!",icon:"error",closeOnClickOutside:!1}));case 9:t.sent&&(this.props.transactionGetUserReset(),this.setState({submittingForm:!1}));case 11:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.props.transactionGetUserReset()}},{key:"render",value:function(){var e,t,a=this;if(200===this.props.status){null!==this.state.transaction&&(e=d.a.createElement("div",null,d.a.createElement(O,{transaction_id:this.state.transaction.id})));var r=this.props.transactions.map((function(e){return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,h()(e.created_at.date).format("Do MMMM YYYY")),d.a.createElement("td",null,e.type),d.a.createElement("td",null,1==e.status?"PAID":"UNPAID"),d.a.createElement("td",null,e.reference_number),d.a.createElement("td",null,e.amount.toLocaleString()),d.a.createElement("td",{onClick:function(){return a.activeTransactionHandler(e)}},d.a.createElement("i",{className:"fa fa-eye"})))}));t=d.a.createElement(d.a.Fragment,null,d.a.createElement(n.a,{style:{width:"100%"}},d.a.createElement("table",{className:"table table-strip table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Date"),d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Status"),d.a.createElement("th",null,"Reference number"),d.a.createElement("th",null,"Amount"),d.a.createElement("th",null,"Access"))),d.a.createElement("tbody",null,r))),e)}return 404===this.props.status&&(t=d.a.createElement(n.a,{style:{width:"100%"}},d.a.createElement("div",{className:"searchResult"},d.a.createElement("table",{className:"table table-striped"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Date"),d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Status"),d.a.createElement("th",null,"Reference number"),d.a.createElement("th",null,"Amount"),d.a.createElement("th",null,"Access"))),d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"6"},d.a.createElement("div",{className:"notFoundTransaction"},d.a.createElement("div",null,"User Transaction not found"))))))))),d.a.createElement(k.a,null,d.a.createElement(I.a,null,d.a.createElement(j.a,null,d.a.createElement(T.a,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-6"},d.a.createElement(F.a,{links:[{url:"/dashboard/transaction",name:"Transaction"}]}))),d.a.createElement("hr",null),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement(n.a,{style:{width:"100%"}},d.a.createElement(Y,{onSubmit:this.handleSubmit,cancel:this.cancelHandler,submittingForm:this.state.submittingForm})),d.a.createElement("br",null),t))))))}}]),t}(u.Component);t.default=Object(b.b)((function(e){return{transactions:e.TransactionReducer.transactions,status:e.TransactionReducer.get_transactions_status}}),(function(e){return{reset:function(t){return e(Object(v.a)(t))},getAllForUser:function(t){return e(Object(g.b)(t))},transactionGetUserReset:function(){return e(Object(g.o)())}}}))(U)},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(56),r=(a(7),n.a.arrayInsert,n.a.arrayMove,n.a.arrayPop,n.a.arrayPush,n.a.arrayRemove,n.a.arrayRemoveAll,n.a.arrayShift,n.a.arraySplice,n.a.arraySwap,n.a.arrayUnshift,n.a.autofill,n.a.blur,n.a.change,n.a.clearAsyncError,n.a.clearFields,n.a.clearSubmit,n.a.clearSubmitErrors,n.a.destroy,n.a.focus,n.a.initialize,n.a.registerField,n.a.reset);n.a.resetSection,n.a.setSubmitFailed,n.a.setSubmitSucceeded,n.a.startAsyncValidation,n.a.startSubmit,n.a.stopAsyncValidation,n.a.stopSubmit,n.a.submit,n.a.touch,n.a.unregisterField,n.a.untouch,n.a.updateSyncWarnings,n.a.updateSyncErrors},590:function(e,t,a){"use strict";var n=a(59),r=a(52),c=a(30);function l(){var e=Object(n.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return l=function(){return e},e}var i=r.c.div(l(),Object(c.palette)("border",0));t.a=i},591:function(e,t,a){e.exports={container:"Breadcrumb.component_container__2V5_E",item:"Breadcrumb.component_item__ZqqpH",itemTwo:"Breadcrumb.component_itemTwo__1JtzI"}},592:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(48),l=a(192),i=a(74),s=a(591),o=a.n(s),m=function(e){var t=e.links.map((function(e){return r.a.createElement(l.b,{to:e.url,className:[o.a.item,o.a.itemTwo].join(" "),key:e.url}," > ",e.name)}));return r.a.createElement("div",{className:"card-body bg-light "},r.a.createElement(l.b,{className:o.a.item,to:"/chose_role"},"Dashboard"),t)};m.defaultProps={links:[]};var u=Object(i.g)(Object(c.b)((function(e){return{active:e.ChoseRoleReducer.role}}))(m));a.d(t,"a",(function(){return u}))}}]);
//# sourceMappingURL=35.8b8f81b8.chunk.js.map