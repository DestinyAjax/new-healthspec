(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[63],{1210:function(e,t,a){"use strict";a.r(t);a(244);var n=a(159),r=a(1),l=a.n(r),c=a(43),i=a(44),s=a(46),m=a(45),o=a(47),u=a(0),p=a.n(u),d=a(48),E=a(139),h=a.n(E),b=a(110),f=a.n(b),v=a(595),_=a(590),N=a(594),g=a(592),y=a(107),C=a(101),w=a(75),k=a(593),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={submittingForm:!1},a.makeDecisionWith=function(e){var t={};t.status=e,t.authorizer_id=a.props.id,t.claim_id=a.props.match.params.slug,a.setState({submittingForm:!0},(function(){a.props.confirmClaim(t)}))},a.showNotificationWith=function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.confirm_claim_status){t.next=5;break}return t.next=3,l.a.awrap(f()({title:"Good job!",text:"Claim status was updated successfully!",icon:"success",closeOnClickOutside:!1}));case 3:t.sent&&a.setState({submittingForm:!1},(function(){a.props.resetClaimConfirm()}));case 5:case"end":return t.stop()}}))},a.getPrice=function(e){var t=0;return a.props.claim.plan_services.map((function(a){return 1==e?a.is_passed==e&&(t+=Number(a.plan_service.price)*a.quantity):t+=Number(a.plan_service.price)*a.quantity,a})),t},a.getApprovedPrice=function(){var e=0;return 1!==a.props.claim.status&&3!==a.props.claim.status||a.props.claim.plan_services.map((function(t){return 1==t.admin_passed&&(e+=Number(t.plan_service.price)*t.actual_quantity),t})),e},a.format=function(e){return 0===e?"PENDING":1===e?"AUTHORIZED":2===e?"UNAUTHORIZED":"PAID"},a.changeStatusFor=function(e){"TENANT_ADMIN"!=a.props.role_user.role.name&&"AGENT"!=a.props.role_user.role.name||0!=a.props.claim.status||(window.scrollTo({top:0,left:0,behavior:"smooth"}),a.props.openModal(y.a,{claim:a.props.claim,encounter_service:e}))},a.displayStatusFor=function(e){return 0===e?p.a.createElement("div",{className:""},"Inactive"):p.a.createElement("div",{className:""},"Active")},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getClaim({id:this.props.match.params.slug})}},{key:"componentDidUpdate",value:function(e,t){e.confirm_claim_status!==this.props.confirm_claim_status&&this.showNotificationWith(this.props)}},{key:"componentWillUnmount",value:function(){this.props.resetClaimConfirm()}},{key:"render",value:function(){var e,t=this;200===this.props.status&&(0===this.props.claim.status&&("TENANT_ADMIN"!=this.props.role_user.role.name&&"AGENT"!=this.props.role_user.role.name||(e=p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",style:{marginRight:10},onClick:function(){return t.makeDecisionWith(2)}},"Reject"),p.a.createElement("button",{type:"button",onClick:function(){return t.makeDecisionWith(1)},className:"btn btn-sm btn-success"},"Confirm"))))));return p.a.createElement(N.a,null,p.a.createElement(k.a,null,p.a.createElement(v.a,null,p.a.createElement(_.a,null,p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-6"},p.a.createElement(g.a,{links:[{url:"/dashboard/claim_all",name:"All Claims"}]}))),p.a.createElement("hr",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement(n.a,{style:{width:"100%"},title:"Claim - Osun Health Insurance Scheme"},200===this.props.status&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-5"},p.a.createElement("table",{className:"table table-striped"},p.a.createElement("tr",null,p.a.createElement("th",null,"Enrollee Name:"),p.a.createElement("td",null,this.props.claim.user.first_name," ",this.props.claim.user.middle_name," ",this.props.claim.user.last_name)),p.a.createElement("tr",null,p.a.createElement("th",null,"Enrollee ID:"),p.a.createElement("td",null,this.props.claim.user.enrollee_id)),p.a.createElement("tr",null,p.a.createElement("th",null,"Date: "),p.a.createElement("td",null,h()(this.props.claim.user.date_of_birth.date).format("Do MMMM YYYY")))),p.a.createElement("table",{className:"table table-striped"},p.a.createElement("tr",null,p.a.createElement("th",null,"Provider Name: "),p.a.createElement("td",null,this.props.claim.provider.name)),p.a.createElement("tr",null,p.a.createElement("th",null,"Provider Code:"),p.a.createElement("td",null,this.props.claim.provider.code)),p.a.createElement("tr",null,p.a.createElement("th",null,"Warden: "),p.a.createElement("td",null,this.props.claim.provider.warden)))),p.a.createElement("div",{className:"col-md-4"},p.a.createElement("table",{className:"table table-striped"},p.a.createElement("tr",null,p.a.createElement("th",null,"Status: "),p.a.createElement("td",null,this.format(this.props.claim.status))),p.a.createElement("tr",null,p.a.createElement("th",null,"Total Price: "),p.a.createElement("td",null,"\u20a6 ",Number(this.getPrice(!1)).toLocaleString())),p.a.createElement("tr",null,p.a.createElement("th",null,"Passed Price: "),p.a.createElement("td",null,"\u20a6 ",Number(this.getPrice(!0)).toLocaleString())),p.a.createElement("tr",null,p.a.createElement("th",null,"Approved Price: "),p.a.createElement("td",null,"\u20a6 ",Number(this.getApprovedPrice()).toLocaleString()))),null!=this.props.claim.authorizer&&p.a.createElement("table",{className:"table table-striped"},p.a.createElement("tr",null,p.a.createElement("th",null,"Verifier Name:"),p.a.createElement("td",null,this.props.claim.authorizer.first_name," ",this.props.claim.authorizer.middle_name," ",this.props.claim.authorizer.last_name)))),p.a.createElement("div",{className:"col-md-3"},p.a.createElement("img",{src:this.props.claim.user.primary_profile_picture}))),p.a.createElement("br",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement("table",{className:"table table-striped"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,"S/N"),p.a.createElement("th",null,"Service"),p.a.createElement("th",null,"Unit Price"),p.a.createElement("th",null,"Quantity"),p.a.createElement("th",null,"Total"),p.a.createElement("th",null,"Admin Quantity"),p.a.createElement("th",null,"Admin Total"),p.a.createElement("th",null,"Status"),p.a.createElement("th",null,"Admin Status"))),p.a.createElement("tbody",null,this.props.claim.plan_services.map((function(e){return p.a.createElement("tr",{key:e.plan_service.service.id,onClick:function(){return t.changeStatusFor(e)}},p.a.createElement("td",null,e.plan_service.service.id),p.a.createElement("td",null,e.plan_service.service.name),p.a.createElement("td",null,"\u20a6 ",Number(e.plan_service.price).toLocaleString()),p.a.createElement("td",null,e.quantity),p.a.createElement("td",null,"\u20a6 ",Number(e.plan_service.price*e.quantity).toLocaleString()),p.a.createElement("td",null,e.actual_quantity),p.a.createElement("td",null,"\u20a6 ",Number(e.plan_service.price*e.actual_quantity).toLocaleString()),p.a.createElement("td",null,t.displayStatusFor(e.is_passed)),p.a.createElement("td",null,t.displayStatusFor(e.admin_passed)))}))))))),"\\                                       ",p.a.createElement("div",{style:{marginTop:"30px"}},e))))))))}}]),t}(u.Component);t.default=Object(d.b)((function(e){return{id:e.AuthReducer.id,claim:e.ClaimReducer.claim,role_user:e.ChoseRoleReducer.role,status:e.ClaimReducer.get_claim_status,confirm_claim_status:e.ClaimReducer.confirm_claim_status}}),(function(e){return{getClaim:function(t){return e(Object(w.g)(t))},resetClaimConfirm:function(){return e(Object(w.j)())},confirmClaim:function(t){return e(Object(w.a)(t))},openModal:function(t,a){return e(Object(C.b)(t,a))}}}))(A)},590:function(e,t,a){"use strict";var n=a(59),r=a(52),l=a(30);function c(){var e=Object(n.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return c=function(){return e},e}var i=r.c.div(c(),Object(l.palette)("border",0));t.a=i},591:function(e,t,a){e.exports={container:"Breadcrumb.component_container__2V5_E",item:"Breadcrumb.component_item__ZqqpH",itemTwo:"Breadcrumb.component_itemTwo__1JtzI"}},592:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(48),c=a(192),i=a(74),s=a(591),m=a.n(s),o=function(e){var t=e.links.map((function(e){return r.a.createElement(c.b,{to:e.url,className:[m.a.item,m.a.itemTwo].join(" "),key:e.url}," > ",e.name)}));return r.a.createElement("div",{className:"card-body bg-light "},r.a.createElement(c.b,{className:m.a.item,to:"/chose_role"},"Dashboard"),t)};o.defaultProps={links:[]};var u=Object(i.g)(Object(l.b)((function(e){return{active:e.ChoseRoleReducer.role}}))(o));a.d(t,"a",(function(){return u}))}}]);
//# sourceMappingURL=63.f4a58bf9.chunk.js.map