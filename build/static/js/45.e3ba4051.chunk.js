(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[45],{1208:function(e,t,a){"use strict";a.r(t);a(244);var n=a(159),r=a(43),c=a(44),i=a(46),l=a(45),o=a(47),s=a(0),m=a.n(s),u=a(139),d=a.n(u),p=a(48),_=a(595),E=a(590),f=a(594),v=a(592),h=a(593),b=a(61),y=a(681),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={transaction:null},a.activeTransactionHandler=function(e){a.setState({transaction:e})},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){void 0!=this.props.match.params.user_id?this.props.getAllForUser({field:"id",value:this.props.match.params.user_id}):this.props.getAllForUser({field:"id",value:this.props.user_id}),console.dir(this.props.user_id)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e,t,a,r=this;return 200===this.props.status&&(null!==this.state.transaction&&(a=m.a.createElement(n.a,{style:{width:"100%"}},m.a.createElement(y.a,{transaction_id:this.state.transaction.id}))),t=this.props.transactions.map((function(e){return m.a.createElement("tr",{key:e.id},m.a.createElement("td",null,d()(e.created_at.date).format("Do MMMM YYYY")),m.a.createElement("td",null,e.type),m.a.createElement("td",null,e.status),m.a.createElement("td",null,e.reference_number),m.a.createElement("td",null,e.amount.toLocaleString()),m.a.createElement("td",{onClick:function(){return r.activeTransactionHandler(e)}},m.a.createElement("i",{className:"fa fa-eye"})))})),e=m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(n.a,{title:"Transactions",style:{width:"100%",marginBottom:"30px"}},m.a.createElement("table",{className:"table table-striped"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Reference number"),m.a.createElement("th",null,"Amount"),m.a.createElement("th",null,"Access"))),m.a.createElement("tbody",null,t))),m.a.createElement("br",null),a))),m.a.createElement(f.a,null,m.a.createElement(h.a,null,m.a.createElement(_.a,null,m.a.createElement(E.a,null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6"},m.a.createElement(v.a,{links:[{url:"/dashboard/transaction",name:"Transaction"}]}))),m.a.createElement("hr",null),m.a.createElement("div",{className:"row"},e)))))}}]),t}(s.Component);t.default=Object(p.b)((function(e){return{user_id:e.AuthReducer.id,role_user:e.ProfileReducer.profile,transactions:e.TransactionReducer.transactions,status:e.TransactionReducer.get_transactions_status}}),(function(e){return{getAllForUser:function(t){return e(Object(b.b)(t))}}}))(N)},590:function(e,t,a){"use strict";var n=a(59),r=a(52),c=a(30);function i(){var e=Object(n.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return i=function(){return e},e}var l=r.c.div(i(),Object(c.palette)("border",0));t.a=l},591:function(e,t,a){e.exports={container:"Breadcrumb.component_container__2V5_E",item:"Breadcrumb.component_item__ZqqpH",itemTwo:"Breadcrumb.component_itemTwo__1JtzI"}},592:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(48),i=a(192),l=a(74),o=a(591),s=a.n(o),m=function(e){var t=e.links.map((function(e){return r.a.createElement(i.b,{to:e.url,className:[s.a.item,s.a.itemTwo].join(" "),key:e.url}," > ",e.name)}));return r.a.createElement("div",{className:"card-body bg-light "},r.a.createElement(i.b,{className:s.a.item,to:"/chose_role"},"Dashboard"),t)};m.defaultProps={links:[]};var u=Object(l.g)(Object(c.b)((function(e){return{active:e.ChoseRoleReducer.role}}))(m));a.d(t,"a",(function(){return u}))},676:function(e,t,a){e.exports={container:"MyInvoice.component_container__fvfzC",header:"MyInvoice.component_header__27X8-",title:"MyInvoice.component_title__G12Jb",body:"MyInvoice.component_body__17FBk",items:"MyInvoice.component_items__fEQME",image:"MyInvoice.component_image__3wtWG",item:"MyInvoice.component_item__2KC07",itemTitle:"MyInvoice.component_itemTitle__3kp0B",itemDescription:"MyInvoice.component_itemDescription__1p3Sj",table:"MyInvoice.component_table__nnv2c",actions:"MyInvoice.component_actions__38Kw9",action:"MyInvoice.component_action__3MOio",reject:"MyInvoice.component_reject__1HGjj",itemsImage:"MyInvoice.component_itemsImage__3cYhE",notification:"MyInvoice.component_notification___rCQU"}},681:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(43),i=a(44),l=a(46),o=a(45),s=a(47),m=a(0),u=a.n(m),d=a(139),p=a.n(d),_=a(110),E=a.n(_),f=a(48),v=a(120),h=a(676),b=a.n(h),y=a(61),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={isVerifying:!1},a.makePayment=function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.onLine){e.next=7;break}return e.next=3,r.a.awrap(window.PaystackPop.setup({key:"pk_live_2a761fbb1a6eae9e6a4021e334182d8d7413b904",email:a.props.transaction.owner.email,amount:100*a.props.transaction.amount,ref:a.props.transaction.reference_number,subaccount:"ACCT_d1y7v4egjmlf96b",callback:function(e){a.setState({isVerifying:!0}),a.props.startConfirmOnlinePayment({reference_number:e.reference})},onClose:function(){console.dir("window closed")}}));case 3:e.sent.openIframe(),e.next=8;break;case 7:alert("offline, please check your internet");case 8:case"end":return e.stop()}}))},a.showNotification=function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.online_payment_status){t.next=5;break}return t.next=3,r.a.awrap(E()({text:"Payment was made successfully!",icon:"success",closeOnClickOutside:!1}));case 3:t.sent&&a.props.resetPaymentVerification();case 5:case"end":return t.stop()}}))},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.showNotification(e)}},{key:"componentDidMount",value:function(){var e={field:"id"};e.value=this.props.transaction_id,this.props.get(e)}},{key:"render",value:function(){var e,t="INVOICE";if(200===this.props.get_single_transaction_status){var a,n,r,c,i,l=this.props.transaction,o=this.props.transaction.model,s=u.a.createElement("div",{className:b.a.notification},"We noticed that you have not supplied your email address. Please note that you will not be able to do online payment as email address is required for this");null!==l.owner.email&&(i=u.a.createElement(v.a,{onClick:this.makePayment},"Pay NGN ",Number(l.amount).toLocaleString()),s=null),this.state.isVerifying&&(i=u.a.createElement(v.a,{onClick:this.makePayment,submittingForm:!0},"isloading")),0===l.status&&(a=u.a.createElement("div",{className:b.a.actions},u.a.createElement("div",{className:b.a.action},i))),1===l.status&&(a=u.a.createElement("div",{className:b.a.actions},u.a.createElement("div",{className:b.a.action},u.a.createElement(v.a,null,"VERIFIED & ACTIVE"))),n=u.a.createElement("div",{className:b.a.item},u.a.createElement("div",{className:b.a.itemTitle},"Verifier"),u.a.createElement("div",{className:b.a.itemDescription},u.a.createElement("div",null,l.verifier.surname," ",l.verifier.first_name," ",l.verifier.other_name))),r=u.a.createElement(u.a.Fragment,null,u.a.createElement("th",null,"Confirmed Date"),u.a.createElement("th",null,"Expires")),c=u.a.createElement(u.a.Fragment,null,u.a.createElement("td",null,p()(l.confirmed_date).format("Do MMMM YYYY")),u.a.createElement("td",null,p()(o.expires_at).format("Do MMMM YYYY"))),t="RECEIPT"),e=u.a.createElement("div",{className:b.a.container},u.a.createElement("div",{className:"card-header"},u.a.createElement("div",{className:b.a.ref_number_title},u.a.createElement("div",{className:b.a.ref_number},"1022020200202"),u.a.createElement("div",{className:"h3"},t)),u.a.createElement("div",{className:b.a.date},"Osun Health Insurance Scheme")),u.a.createElement("div",{className:b.a.body},u.a.createElement("div",{className:b.a.itemsImage},u.a.createElement("div",{className:b.a.items},u.a.createElement("div",{className:b.a.item},u.a.createElement("div",{className:b.a.itemTitle},"Enrollee"),u.a.createElement("div",{className:b.a.itemDescription},u.a.createElement("div",null,l.model.surname," ",l.model.first_name," ",l.model.other_name),u.a.createElement("div",null,l.model.enrollee_id))),u.a.createElement("div",{className:b.a.item},u.a.createElement("div",{className:b.a.itemTitle},"Provider"),u.a.createElement("div",{className:b.a.itemDescription},u.a.createElement("div",null,l.model.provider_name),u.a.createElement("div",null,l.model.provider_code))),u.a.createElement("div",{className:b.a.item},u.a.createElement("div",{className:b.a.itemTitle},"Amount"),u.a.createElement("div",{className:b.a.itemDescription},u.a.createElement("div",null,"NGN ",Number(l.amount).toLocaleString()))),n),u.a.createElement("div",{className:b.a.image},u.a.createElement("img",{src:l.model.picture}))),u.a.createElement("div",{className:"table-responsive-sm"},u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Type"),u.a.createElement("th",null,"Issued Date"),u.a.createElement("th",null,"Policy Name"),u.a.createElement("th",null,"Duration"),u.a.createElement("th",null,"Reference Number"),r)),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,l.type.split("_").join(" ")),u.a.createElement("td",null,p()(l.created_at.date).format("Do MMMM YYYY")),u.a.createElement("td",null,l.model.policy_name),u.a.createElement("td",null,l.model.policy_duration," Months"),u.a.createElement("td",null,l.reference_number),c))),u.a.createElement("div",null,s))),a)}return u.a.createElement(u.a.Fragment,null,e)}}]),t}(u.a.Component),g=Object(f.b)((function(e){return{role:e.ChoseRoleReducer.role,auth_user_id:e.AuthReducer.id,transaction:e.TransactionReducer.transaction,get_single_transaction_status:e.TransactionReducer.get_single_transaction_status,online_payment_status:e.TransactionReducer.online_payment_status,update_transaction_status:e.TransactionReducer.update_transaction_status}}),(function(e){return{get:function(t){return e(Object(y.a)(t))},updateTransaction:function(t){return e(Object(y.q)(t))},resetPaymentVerification:function(){return e(Object(y.j)())},startConfirmOnlinePayment:function(t){return e(Object(y.l)(t))}}}))(N);a.d(t,"a",(function(){return g}))}}]);
//# sourceMappingURL=45.e3ba4051.chunk.js.map