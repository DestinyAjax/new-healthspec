(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[37],{1194:function(e,t,a){"use strict";a.r(t);a(244);var n=a(159),r=a(43),l=a(44),c=a(46),o=a(45),s=a(47),i=a(0),u=a.n(i),d=a(48),m=a(6),p=a.n(m),h=a(595),f=a(590),b=a(594),g=a(592),E=a(596),y=a(647),v=a(212),_=a(593),x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).state={tab:1},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getEnrollee(this.props.match.params.slug)}},{key:"componentWillUnmount",value:function(){this.props.resetStoreEnrollee()}},{key:"switchTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.enrollee,r=t.status,l=this.state.tab,c=u.a.createElement("div",{className:p()("p-3","bg-light")},u.a.createElement("div",{style:{display:"flex",width:"inherit",height:30}},u.a.createElement("button",{type:"button",style:{borderRight:"none"},className:p()("tabSingle",{active:1===l},"btn"),onClick:this.switchTab.bind(this,1),"aria-label":"Click Me!","data-balloon-pos":"up"},"Dependants"),u.a.createElement("button",{type:"button",style:{borderRight:"none"},className:p()("tabSingle",{active:2===l},"btn"),onClick:this.switchTab.bind(this,2),"aria-label":"Click Me!","data-balloon-pos":"up"},"Transactions"),u.a.createElement("button",{type:"button",className:p()("tabSingle",{active:3===l},"btn"),onClick:this.switchTab.bind(this,3),"aria-label":"Click Me!","data-balloon-pos":"up"},"Encounter"),u.a.createElement("button",{type:"button",className:p()("tabSingle",{active:4===l},"btn"),onClick:function(){return e.props.history.push("dependant_add_".concat(e.props.enrollee.slug))},"aria-label":"Click Me!","data-balloon-pos":"up"},"Add Dependant"),u.a.createElement("button",{type:"button",className:p()("tabSingle",{active:5===l},"btn"),onClick:function(){return e.props.history.push("beneficiary_edit_".concat(e.props.enrollee.slug))},"aria-label":"Click Me!","data-balloon-pos":"up"},"Edit")),u.a.createElement(n.a,{style:{width:"100%"}},1===l&&u.a.createElement(E.a,{columns:[{key:"id",dataIndex:"id",title:"ID",cell:"Default",searchable:!1},{key:"first_name",title:"First name",dataIndex:"first_name",cell:"Default",searchable:!1},{key:"primary_phone_number",title:"Phone No.",cell:"Default",dataIndex:"primary_phone_number",searchable:!1}],url:"beneficiary/details/".concat(this.props.match.params.slug,"?type=dependents"),actions:[]}),2===l&&u.a.createElement(E.a,{columns:[{key:"id",title:"ID",cell:"Default",dataIndex:"id",searchable:!1},{key:"amount",title:"Amount",cell:"Default",dataIndex:"amount",searchable:!1},{key:"reference_number",title:"Reference No.",cell:"Default",dataIndex:"reference_number",searchable:!1},{key:"type",title:"Type",cell:"Default",searchable:!1,dataIndex:"type"},{key:"confirmed_date",title:"Date",cell:"Default",searchable:!1,dataIndex:"confirmed_date"}],url:"beneficiary/details/".concat(this.props.match.params.slug,"?type=transactions"),actions:[]}),3===l&&u.a.createElement(E.a,{columns:[{key:"id",title:"ID",cell:"Default",dataIndex:"id",searchable:!1},{key:"provider_name",title:"Provider",cell:"Default",dataIndex:"provider_name",searchable:!1},{key:"case",title:"Case",cell:"Default",dataIndex:"case",searchable:!1},{key:"status",title:"Status",cell:"Default",dataIndex:"status",searchable:!1}],url:"beneficiary/details/".concat(this.props.match.params.slug,"?type=treatment_cases"),actions:[]})));return null!==a&&"Dependant"===a.is_dependant&&(c=u.a.createElement("div",null,u.a.createElement("div",{style:{display:"flex",width:"inherit",height:30}},u.a.createElement("button",{type:"button",className:p()("tabSingle",{active:1===l}),onClick:this.switchTab.bind(this,1),"aria-label":"Click Me!","data-balloon-pos":"up"},"Encounter"),u.a.createElement("button",{type:"button",className:p()("tabSingle",{active:2===l}),onClick:"","aria-label":"Click Me!","data-balloon-pos":"up"},"Edit")),u.a.createElement(n.a,{style:{width:"100%"}},1===l&&u.a.createElement(E.a,{columns:[{key:"id",title:"ID",dataIndex:"id",cell:"Default",searchable:!1},{key:"provider_name",title:"Provider",dataIndex:"provider_name",cell:"Default",searchable:!1},{key:"case",title:"Case",cell:"Default",dataIndex:"case",searchable:!1},{key:"status",title:"Status",cell:"Default",dataIndex:"status",searchable:!1}],url:"beneficiary/details/".concat(this.props.match.params.slug,"?type=treatment_cases"),actions:[{key:"slug",type:"view",title:"Encounter",url:"/dashboard/treatmentcase_"}]})))),u.a.createElement(b.a,null,u.a.createElement(_.a,null,u.a.createElement(h.a,null,u.a.createElement(f.a,null,200===r?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row",style:{marginBottom:"10px"}},u.a.createElement("div",{className:"col-md-6"},u.a.createElement("h4",null,"All Enrollees")),u.a.createElement("div",{className:"col-md-6 text-right"},u.a.createElement(g.a,{links:[{url:"/dashboard/beneficiary_all",name:"Beneficiaries"},{url:"dashboard/enrollee_view_".concat(this.props.match.params.slug),name:"".concat(a.name)}]}))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},200===r?u.a.createElement(u.a.Fragment,null,u.a.createElement(n.a,{style:{width:"100%"}},u.a.createElement("div",{style:{marginBottom:"30px"}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-6"},"Enrollee ID: ",u.a.createElement("strong",null," ",a.enrollee_id," ")),u.a.createElement("div",{className:"col-md-6 text-right"},u.a.createElement("span",null,u.a.createElement("strong",null,"Status:")," ",a.is_active)))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-3 col-sm-12 col-xs-12"},u.a.createElement("img",{alt:a.name,className:"rounded img-thumbnail",src:a.picture})),u.a.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},u.a.createElement("h6",{className:"mb-2"},"Personal Details:"),u.a.createElement("table",{className:"table table-striped"},u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("strong",null,a.title,". ",a.surname," ",a.first_name," ",a.other_name))),u.a.createElement("tr",null,u.a.createElement("td",null,a.age," year(s) old,  (",a.gender,")")),u.a.createElement("tr",null,u.a.createElement("td",null,a.address_of_residence,", ",a.city_of_residence)),u.a.createElement("tr",null,u.a.createElement("td",null,"Group: ",a.company_name)),u.a.createElement("tr",null,u.a.createElement("td",null,"Email: ",a.email)),u.a.createElement("tr",null,u.a.createElement("td",null,"Phone: ",a.primary_phone_number)))),u.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},u.a.createElement("h6",{className:"mb-2"},"Policy:"),u.a.createElement("table",{className:"table table-striped"},u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("strong",null,a.policy_name," (",a.is_dependant,")"))),u.a.createElement("tr",null,u.a.createElement("td",null,"Role: ",a.role_name)),u.a.createElement("tr",null,u.a.createElement("td",null,a.provider_name," (",a.provider_code,")")),u.a.createElement("tr",null,u.a.createElement("td",null,"Dependant Enrolled: ",a.no_of_dependent)),u.a.createElement("tr",null,u.a.createElement("td",null,"Dependant Allowed: ",a.maximum_no_of_beneficiary_dependant)),u.a.createElement("tr",null,u.a.createElement("td",null,"Policy Duration: Active for ",a.policy_duration," months")),u.a.createElement("tr",null,u.a.createElement("td",null,"Expires On: ",a.expires_at))))),u.a.createElement("div",{style:{marginTop:"20px"}},c))):u.a.createElement(y.a,null)))):u.a.createElement(y.a,null)))))}}]),t}(i.Component);t.default=Object(d.b)((function(e){return{enrollee:e.EnrolleeReducer.enrollee,status:e.EnrolleeReducer.get_enrollee_status}}),(function(e){return{getEnrollee:function(t){return e(Object(v.a)(t))},resetStoreEnrollee:function(){return e(Object(v.d)())}}}))(x)},590:function(e,t,a){"use strict";var n=a(59),r=a(52),l=a(30);function c(){var e=Object(n.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return c=function(){return e},e}var o=r.c.div(c(),Object(l.palette)("border",0));t.a=o},591:function(e,t,a){e.exports={container:"Breadcrumb.component_container__2V5_E",item:"Breadcrumb.component_item__ZqqpH",itemTwo:"Breadcrumb.component_itemTwo__1JtzI"}},592:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(48),c=a(192),o=a(74),s=a(591),i=a.n(s),u=function(e){var t=e.links.map((function(e){return r.a.createElement(c.b,{to:e.url,className:[i.a.item,i.a.itemTwo].join(" "),key:e.url}," > ",e.name)}));return r.a.createElement("div",{className:"card-body bg-light "},r.a.createElement(c.b,{className:i.a.item,to:"/chose_role"},"Dashboard"),t)};u.defaultProps={links:[]};var d=Object(o.g)(Object(l.b)((function(e){return{active:e.ChoseRoleReducer.role}}))(u));a.d(t,"a",(function(){return d}))},596:function(e,t,a){"use strict";a(634);var n=a(633),r=a(40),l=a(1),c=a.n(l),o=a(43),s=a(44),i=a(46),u=a(45),d=a(47),m=a(0),p=a.n(m),h=a(110),f=a.n(h),b=a(74),g=a(137),E=a(584),y=a(585),v=Object(y.a)({form:"SearchForm"})((function(e){var t=e.onChangeHandler;return p.a.createElement("form",null,p.a.createElement(E.a,{name:"value",component:g.a,type:"text",placeholder:"Search",validate:[],onChange:function(e){t(e.target.value)}}))})),_=a(632),x=a.n(_),k=a(67),w=a(163),N=a(59),D=a(52),S=a(78);function j(){var e=Object(N.a)(["\n  \n  .pagination {\n    margin-top: 25px !important;\n  }\n\n  .pagination span {\n    cursor: pointer;\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n  }\n\n  .pagination span.active {\n    background-color: #15974b;\n    color: white;\n    border: 1px solid #15974b;\n  }\n\n.center {\n  text-align: center;\n}\n.actions {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n}\n.actions2 {\n  width: 50%;\n  margin: 15px auto;\n}\n\n.action {\n    opacity: 1;\n    display: block;\n    font-size: 12px;\n    cursor: pointer;\n    padding: 10px 10px;\n\n    color: #FFFFFF;\n    border-radius: 5px;\n    letter-spacing: 0.29px;\n    transition: all 0.3s ease 0s;\n    border: 1px solid transparent;\n\n    margin-bottom: 15px;\n}\n.delete {\n  opacity: .8;\n  background: #e43829;\n}\n.edit {\n  opacity: .8;\n  background: #ffca28;\n}\n.view {\n  opacity: .8;\n  background: #15974b;\n}\n.search {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  padding: 5px 5px;\n  /* background: #eceeef; */\n  margin-bottom: 15px;\n}\n.field,\n.comparison {\n  width: 14%;\n}\n.form {\n  width: 30%;\n}\n.filter {\n  width: 10%;\n}\n.button {\n  width: 100%;\n  display: block;\n  background: #eceeef;\n  padding: 5px 5px;\n  border-radius: 5px;\n  text-align: center;\n  margin-top: 7px;\n}\n\n"]);return j=function(){return e},e}var C=D.c.div(j()),O=Object(S.a)(C),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],per_page:20,last_page:0,loading:!0,total_pages:0,current_page:0,active_data:null,show_actions:!1,query:""},a.get=function(e){var t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(k.a)("ohis:auth_token"));case 2:return t=a.sent,a.abrupt("return",fetch(w.a+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",AuthorizationHeader:"Bearer OSUN_1234567890987654321",AuthToken:t}}));case 4:case"end":return a.stop()}}))},a.handleSearch=function(e){var t,n,r,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=a.props.columns.filter((function(e){return e.searchable})).map((function(e){return e.search_key})).join("*"),n="".concat(t,":").concat(e),o.next=4,c.a.awrap(a.get("".concat(a.props.url,"?search=").concat(n)));case 4:return r=o.sent,o.next=7,c.a.awrap(r.json());case 7:l=o.sent,a.reset(l);case 9:case"end":return o.stop()}}))},a.detectQueryString=function(e){return new RegExp(/\?.+=.*/g).test(e)},a.fetchData=function(e,t){var n,r,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a.setState({loading:!0}),n=a.detectQueryString(e)?a.get("".concat(e,"&page=").concat(t)):a.get("".concat(e,"?page=").concat(t)),o.next=4,c.a.awrap(n);case 4:return r=o.sent,o.next=7,c.a.awrap(r.json());case 7:l=o.sent,a.reset(l);case 9:case"end":return o.stop()}}))},a.reset=function(e){var t,n,r,l=[];e.data?(e.data.map((function(e){return e.is_selected=!1,e})).map((function(e,t){e.key=e.id,l.push(e)})),t=e.meta.total,n=e.meta.last_page,r=e.meta.current_page):([],t=0,n=0,r=0),a.setState({data:l,loading:!1,total_pages:t,last_page:n,current_page:r})},a.getPaginated=function(e){a.fetchData(a.props.url,e)},a.selected=function(e){console.log(JSON.stringify(e));var t=[];a.state.data.map((function(t){return t.is_selected=!1,e.id===t.id&&(t.is_selected=!0),t})).map((function(e,a){e.key=e.id,t.push(e)})),a.setState({data:t,active_data:e,show_actions:!0},(function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.actions.length&&(e=a.props.actions.map((function(e,t){var n="action delete";return"edit"===e.type&&(n="action edit"),"view"===e.type&&(n="action view"),p.a.createElement("div",{key:t,className:n,onClick:function(){return a.handle(e)}},e.title)})),x()({content:p.a.createElement("div",null,p.a.createElement("h1",null,"Action List(s)"),p.a.createElement("div",{className:"actions2"},e)),buttons:!1}));case 1:case"end":return t.stop()}}))}))},a.delete=function(e,t){var n,l,o;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=a.state.active_data[e],s.next=3,c.a.awrap(a.get("".concat(t).concat(n)));case 3:return l=s.sent,s.next=6,c.a.awrap(l.json());case 6:200===s.sent.status&&(o=Object(r.a)(a.state.data).filter((function(t){return n!==t[e]})),a.setState({data:o}));case 8:case"end":return s.stop()}}))},a.handle=function(e){var t,n,r,l,o;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.type,n=e.url,r=e.key,s.next=3,c.a.awrap(f()({title:"Are you sure you want to ".concat(t),type:"warning",buttons:["No","Yes, I am sure!"]}));case 3:if(!s.sent){s.next=12;break}if("delete"===t&&a.delete(r,n),"edit"!==t){s.next=9;break}return l=a.state.active_data[r],s.abrupt("return",a.props.history.push("".concat(n).concat(l)));case 9:if("view"!==t){s.next=12;break}return o=a.state.active_data[r],s.abrupt("return",a.props.history.push("".concat(n).concat(o)));case 12:case"end":return s.stop()}}))},a.tableList=function(){if(a.state.data.length)return a.state.data.map((function(e){var t=p.a.createElement("i",{className:"fa fa-circle-thin","aria-hidden":"true"});return e.is_selected&&(t=p.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"})),p.a.createElement("tr",{key:e.id,onClick:function(){return a.selected(e)}},p.a.createElement("td",null,t),a.props.columns.map((function(t){return p.a.createElement("td",{key:t.key},e[t.key])})))}));var e=p.a.createElement("tr",null,p.a.createElement("td",{colSpan:a.props.columns.length+1,className:"center"},"No Records Found."));return a.state.loading&&(e=p.a.createElement("tr",null,p.a.createElement("td",{colSpan:a.props.columns.length+1,className:"center"},"Slow network, Loading..."))),p.a.createElement(p.a.Fragment,null,e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchData(this.props.url,1)}},{key:"render",value:function(){for(var e=this,t=[],a=1;a<=Math.ceil(this.state.total_pages/this.state.per_page);a++)t.push(a);var r,l=t.map((function(t){var a=e.state.current_page===t?"active":"";if(1==t||t==e.state.total_pages||t>=e.state.current_page-2&&t<=e.state.current_page+2)return p.a.createElement("span",{key:t,className:a,onClick:function(){return e.getPaginated(t)}},t)}));return this.props.hideSearch||(r=p.a.createElement(v,{onChangeHandler:this.handleSearch})),p.a.createElement(p.a.Fragment,null,p.a.createElement(O,{className:"iosDatatableWrapper"},r,p.a.createElement(n.a,{onRow:function(t,a){return{onClick:function(a){e.selected(t)}}},columns:this.props.columns,dataSource:this.state.data,pagination:!1}),p.a.createElement("div",{className:"pagination"},p.a.createElement("span",{onClick:function(){return e.getPaginated(1)}},"\xab"),l,p.a.createElement("span",{onClick:function(){return e.getPaginated(e.props.last_page)}},"\xbb"))))}}]),t}(p.a.Component);I.defaultProps={hideSearch:!1};var F=Object(b.g)(I);a.d(t,"a",(function(){return F}))},646:function(e,t,a){e.exports={container:"Spinner.component_container__W-GWN",content:"Spinner.component_content__11MBV",message:"Spinner.component_message__3kFxw"}},647:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(646),c=a.n(l),o=function(e){var t=e.message;return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.content},r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),r.a.createElement("div",{className:c.a.message},t)))};o.defaultProps={message:"Loading"};var s=o;a.d(t,"a",(function(){return s}))}}]);
//# sourceMappingURL=37.bd901e7c.chunk.js.map