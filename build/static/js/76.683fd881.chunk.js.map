{"version":3,"sources":["containers/Pages/Guest/OrganizationProfileAll/OrganizationStyle.js","containers/Pages/Guest/OrganizationProfileAll/OrganizationProfileAll.js","ui/Datatable/SearchForm.component.js","ui/Datatable/Datatable.style.js","ui/Datatable/Datatable.component.js","ui/Datatable/index.js"],"names":["OrganisationStyleWrapper","styled","div","WithDirection","OrganizationProfileAll","state","organization_profile_url","organization_profile_name","organization_profile_number","checkSlug","slug","props","history","push","setState","this","match","params","HeaderComponent","className","Datatable","columns","key","title","cell","searchable","search_key","url","actions","FooterComponent","bottomFooter","React","Component","reduxForm","form","onChangeHandler","Field","name","component","CustomInput","type","placeholder","validate","onChange","event","target","value","DatatableStyleWrapper","data","per_page","last_page","loading","total_pages","current_page","active_data","show_actions","query","get","end_point","a","async","getStorage","token","fetch","method","headers","handleSearch","filter","column","map","join","response","json","reset","detectQueryString","RegExp","test","fetchData","page_number","request","tableData","table","index","id","meta","total","getPaginated","selected","row","console","log","JSON","stringify","length","action","classes","onClick","handle","customswal","content","buttons","delete","param","status","newData","swal","tableList","icon","aria-hidden","is_selected","col","container","colSpan","Fragment","pageNumbers","i","Math","ceil","searchForm","renderPageNumbers","number","hideSearch","onRow","record","rowIndex","dataSource","pagination","defaultProps","withRouter"],"mappings":"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","file":"static/js/76.683fd881.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst OrganisationStyleWrapper = styled.div`\n\n    .container {\n        width: 90%;\n        margin: 55px auto;\n    }\n\n    .header {\n        font-family: Playfair Display;\n        font-weight: bold;\n        line-height: 48px;\n        font-size: 24px;\n        color: #0099FF;\n    }\n\n    .policies {\n        margin-top: 35px;\n    }\n\n    .datatable{\n        margin-bottom: 60px;\n    }\n\n    .button {\n        opacity: 1;\n        padding: 10px;\n        font-size: 16px;\n        cursor: pointer;\n        margin-bottom: 10px;\n        float: right;\n        color: #FFFFFF;\n        border-radius: 5px;\n        background: #15974b;\n        letter-spacing: 0.29px;\n        transition: all 0.3s ease 0s;\n        border: 1px solid transparent;\n\n        &:hover {\n            opacity: 0.75;\n            color: #FFF;\n            background-color: #e43829;\n        }\n    }\n\n    @media screen and (min-width: 900px) {\n        .container {\n            width: 75%;\n            margin: 55px auto;\n        }\n\n        .policies {\n            width: 80%;\n            display: flex;\n            flex-wrap: wrap;\n        }\n    }\n`;\n\nexport default WithDirection(OrganisationStyleWrapper);\n","import React, {Fragment} from 'react';\nimport FooterComponent from '../../Home/components/Footer/FooterComponent';\nimport HeaderComponent from '../../Home/components/Header/HeaderComponent';\nimport OrganisationStyleWrapper from './OrganizationStyle';\nimport Datatable from '../../../../ui/Datatable';\nimport '../../Home/style.css';\n\nclass OrganizationProfileAll extends React.Component {\n\n    state = {\n\t\torganization_profile_url: '2',\n\t\torganization_profile_name: '',\n\t\torganization_profile_number: '2',\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.checkSlug(this.props.match.params.slug);\n\t}\n\n\tcheckSlug = slug => {\n\t\tif ((slug != 'all-company') && (slug != 'all-hospital') && (slug != 'all-agent')) {\n\t\t\treturn this.props.history.push('/');\n\t\t}\n\n\t\tlet organization_profile_name = '';\n\t\tlet organization_profile_number = '';\n\t\tlet organization_profile_url = '';\n\n\t\tif (slug == 'all-company') {\n\t\t\torganization_profile_name = 'Company';\n\t\t\torganization_profile_number = '3';\n\t\t\torganization_profile_url = 'Company';\n\t\t}\n\t\tif (slug == 'all-hospital') {\n\t\t\torganization_profile_name = 'Hospital';\n\t\t\torganization_profile_number = '2';\n\t\t\torganization_profile_url = 'Hospital';\n\t\t}\n\n\t\tthis.setState({\n\t\t\torganization_profile_url: organization_profile_url,\n\t\t\torganization_profile_name: organization_profile_name,\n\t\t\torganization_profile_number: organization_profile_number,\n\t\t});\n    }\n    \n    render() {\n        return (\n            <Fragment>\n                <HeaderComponent />\n                <OrganisationStyleWrapper className=\"isoBenefitPageWrapper\">\n                    <section className=\"second-section\">\n                        <div className=\"row mb-4 text-center\">\n                            <div className=\"col-md-12\">\n                                <h2 className=\"mb-3\">Search Our Hospitals</h2>\n                                <span className=\"bar\"></span>\n                            </div>\n                        </div>\n                    </section>\n                    <div className=\"container mt-4\">\n                        <div className=\"datatable\">\n                        <Datatable\n                                columns={[\n                                    {\n                                        key: 'id',\n                                        title: 'ID',\n                                        cell: 'Default',\n                                        searchable: false,\n                                    },\n                                    {\n                                        cell: 'Default',\n                                        searchable: true,\n                                        key: 'name',\n                                        title: 'Name',\n                                        search_key: 'name',\n                                    },\n                                    {\n                                        cell: 'Default',\n                                        key: 'code',\n                                        searchable: false,\n                                        title: 'Code',\n                                    },\n                                    {\n                                        cell: 'Default',\n                                        searchable: false,\n                                        key: 'category',\n                                        title: 'Provider Type',\n                                    },\n                                    {\n                                        cell: 'Default',\n                                        searchable: false,\n                                        key: 'owner_phone_number',\n                                        title: 'Contact',\n                                    },\n                                ]}\n                                url={`organization_profile/index/${this.state.organization_profile_number}`}\n                                actions={[]}\n                            />\n                        </div>\n                    </div>\n                </OrganisationStyleWrapper>\n                <FooterComponent bottomFooter={false}/>\n            </Fragment>  \n        );\n    }\n};\n\nexport default OrganizationProfileAll;","import React from 'react';\nimport CustomInput from '../CustomInput';\nimport { Field, reduxForm } from 'redux-form';\n// import { requiredValidator } from '../../../shared/utils/validation';\n\n\nconst SearchForm = props => {\n\n    const { onChangeHandler } = props\n\n    const onNameChanged = event => {\n        onChangeHandler(event.target.value);\n    }\n\n    return (\n        <form>\n            <Field\n                name=\"value\"\n                component={CustomInput}\n                type=\"text\"\n                placeholder=\"Search\"\n                validate={[]}\n                onChange={onNameChanged}\n            />\n        </form>\n    )\n\n}\n\nexport default reduxForm({\n    form: 'SearchForm'\n})(SearchForm);","import styled from 'styled-components';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst DatatableStyleWrapper = styled.div`\n  \n  .pagination {\n    margin-top: 25px !important;\n  }\n\n  .pagination span {\n    cursor: pointer;\n    color: black;\n    float: left;\n    padding: 8px 16px;\n    text-decoration: none;\n    transition: background-color .3s;\n    border: 1px solid #ddd;\n  }\n\n  .pagination span.active {\n    background-color: #15974b;\n    color: white;\n    border: 1px solid #15974b;\n  }\n\n.center {\n  text-align: center;\n}\n.actions {\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n}\n.actions2 {\n  width: 50%;\n  margin: 15px auto;\n}\n\n.action {\n    opacity: 1;\n    display: block;\n    font-size: 12px;\n    cursor: pointer;\n    padding: 10px 10px;\n\n    color: #FFFFFF;\n    border-radius: 5px;\n    letter-spacing: 0.29px;\n    transition: all 0.3s ease 0s;\n    border: 1px solid transparent;\n\n    margin-bottom: 15px;\n}\n.delete {\n  opacity: .8;\n  background: #e43829;\n}\n.edit {\n  opacity: .8;\n  background: #ffca28;\n}\n.view {\n  opacity: .8;\n  background: #15974b;\n}\n.search {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  padding: 5px 5px;\n  /* background: #eceeef; */\n  margin-bottom: 15px;\n}\n.field,\n.comparison {\n  width: 14%;\n}\n.form {\n  width: 30%;\n}\n.filter {\n  width: 10%;\n}\n.button {\n  width: 100%;\n  display: block;\n  background: #eceeef;\n  padding: 5px 5px;\n  border-radius: 5px;\n  text-align: center;\n  margin-top: 7px;\n}\n\n`;\n\nexport default WithDirection(DatatableStyleWrapper);\n","import React from 'react';\nimport swal from 'sweetalert';\nimport { Table, Tag } from 'antd';\n// import Filter from './Filter.component';\nimport { withRouter } from 'react-router-dom';\nimport SearchForm from './SearchForm.component';\nimport customswal from '@sweetalert/with-react';\nimport { getStorage } from '../../shared/utils/storage';\nimport { url } from './../../config';\n\nimport DatatableStyleWrapper from './Datatable.style';\n\nclass Datatable extends React.Component {\n\n    state = {\n        data: [],\n        per_page: 20,\n        last_page: 0,\n        loading: true,\n        total_pages: 0,\n        current_page: 0,\n        active_data: null,\n        show_actions: false,\n        query: ''\n    };\n\n    get = async end_point => {\n        let token = await getStorage('ohis:auth_token');\n\n        return fetch(url + end_point, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                \"AuthorizationHeader\": \"Bearer OSUN_1234567890987654321\",\n                'AuthToken': token\n            },\n        });\n    }\n\n    handleSearch = async value => {\n        let searchable = this.props.columns.filter(column => column.searchable).map(column => column.search_key).join(\"*\");\n        let query = `${searchable}:${value}`;\n\n        let response = await this.get(`${this.props.url}?search=${query}`);\n        const data = await response.json();\n\n        this.reset(data);\n    }\n\n    detectQueryString = (url) => {\n        // get the current URL\n\n        // regex pattern for detecting ? character\n        var pattern = new RegExp(/\\?.+=.*/g);\n\n        return pattern.test(url);\n    }\n\n    fetchData = async (url, page_number) => {\n        let request;\n        this.setState({ loading: true });\n        if (this.detectQueryString(url)) request = this.get(`${url}&page=${page_number}`);\n        else request = this.get(`${url}?page=${page_number}`);\n        //make http request\n        let response = await request;\n        const data = await response.json();\n\n        this.reset(data);\n    }\n\n    reset = data => {\n        let newData, total_pages, last_page, current_page;\n        let tableData = [];\n        \n        if (data.data) {\n            newData = data.data.map(data => {\n                data['is_selected'] = false;\n                return data;\n            });\n            newData.map((table,index) => {\n                table['key'] = table.id\n                tableData.push(table);\n            });\n            total_pages = data.meta.total;\n            last_page = data.meta.last_page;\n            current_page = data.meta.current_page;\n        } else {\n            newData = [];\n            total_pages = 0;\n            last_page = 0;\n            current_page = 0;\n        }\n\n        this.setState({\n            data: tableData,\n            loading: false,\n            total_pages: total_pages,\n            last_page: last_page,\n            current_page: current_page\n        });\n    }\n\n    componentDidMount() {\n        this.fetchData(this.props.url, 1);\n    }\n\n    getPaginated = page_number => {\n        this.fetchData(this.props.url, page_number);\n    }\n\n    selected = row => {\n        console.log(JSON.stringify(row));\n        let tableData = [];\n        let newData = this.state.data.map(data => {\n            data['is_selected'] = false;\n\n            if (row.id === data.id) {\n                data['is_selected'] = true;\n            }\n\n            return data;\n        });\n\n        newData.map((table,index) => {\n            table['key'] = table.id\n            tableData.push(table);\n        });\n\n        this.setState({\n            data: tableData,\n            active_data: row,\n            show_actions: true\n        }, async () => {\n            if (this.props.actions.length) {\n                let actions = this.props.actions.map((action, index) => {\n\n                    let classes = `action delete`;\n\n                    if (action.type === 'edit') {\n                        classes = `action edit`;\n                    }\n\n                    if (action.type === 'view') {\n                        classes = `action view`;\n                    }\n\n\n                    return (\n                        <div key={index} className={classes} onClick={() => this.handle(action)}>\n                            {action.title}\n                        </div>\n                    )\n                });\n\n                customswal({\n                    content: (\n                        <div>\n                            <h1>Action List(s)</h1>\n                            <div className=\"actions2\">\n                                {actions}\n                            </div>\n                        </div>\n                    ),\n                    buttons: false,\n                });\n            }\n        });\n    }\n\n    delete = async (key, url) => {\n        //set is deleting status on the particular table\n        // let newData = data.data.map(data => {\n        //     data['is_selected'] = false;\n        //     return data;\n        // });\n        // this.setState({\n        //     data: newData,\n        // });\n\n        let param = this.state.active_data[key];\n\n        let response = await this.get(`${url}${param}`);\n        const data = await response.json();\n\n\n        if (data.status === 200) {\n            let newData = [...this.state.data].filter(data => {\n                return param !== data[key]\n            });\n\n            this.setState({\n                data: newData,\n            });\n        }\n    }\n\n    handle = async ({ type, url, key }) => {\n        let alert = await swal({\n            title: `Are you sure you want to ${type}`,\n            type: 'warning',\n            buttons: [\n                'No',\n                'Yes, I am sure!'\n            ],\n        });\n        if (alert) {\n            if (type === 'delete') {\n                this.delete(key, url);\n            }\n            //edit\n            if (type === 'edit') {\n                let param = this.state.active_data[key];\n                return this.props.history.push(`${url}${param}`);\n            }\n            if (type === 'view') {\n                let param = this.state.active_data[key];\n                return this.props.history.push(`${url}${param}`);\n            }\n        }\n    }\n\n    tableList = () => {\n        let values = [];\n\n        if (this.state.data.length) {\n            return this.state.data.map(row => {\n                let icon = <i className=\"fa fa-circle-thin\" aria-hidden=\"true\"></i>\n\n                if (row.is_selected) {\n                    icon = <i className=\"fa fa-circle\" aria-hidden=\"true\"></i>\n                }\n\n                return (\n                    <tr key={row.id} onClick={() => this.selected(row)}>\n                        <td>{icon}</td>\n                        {this.props.columns.map(col =>\n                            <td key={col.key}>\n                                {row[col.key]}\n                            </td>\n                        )}\n                    </tr>\n                )\n            });\n        }\n\n        let container = (\n            <tr>\n                <td colSpan={this.props.columns.length + 1} className=\"center\">No Records Found.</td>\n            </tr>\n        )\n\n        if (this.state.loading) {\n            container = (\n                <tr>\n                    <td colSpan={this.props.columns.length + 1} className=\"center\">Slow network, Loading...</td>\n                </tr>\n            )\n        }\n\n        return (\n            <React.Fragment>\n                {container}\n            </React.Fragment>\n        )\n    }\n\n    render() {\n        const pageNumbers = [];\n        for (let i = 1; i <= Math.ceil(this.state.total_pages / this.state.per_page); i++) {\n            pageNumbers.push(i);\n        }\n\n        const renderPageNumbers = pageNumbers.map(number => {\n            let classes = this.state.current_page === number ? 'active' : '';\n\n            if (number == 1 || number == this.state.total_pages || (number >= this.state.current_page - 2 && number <= this.state.current_page + 2)) {\n                return (\n                    <span key={number} className={classes} onClick={() => this.getPaginated(number)}>{number}</span>\n                );\n            }\n        });\n\n        let searchForm;\n\n        if (!this.props.hideSearch) {\n            searchForm = (\n                <SearchForm onChangeHandler={this.handleSearch} />\n            )\n        }\n\n        return (\n            <React.Fragment>\n                <DatatableStyleWrapper className=\"iosDatatableWrapper\">\n                    {searchForm}\n                    <Table \n                        onRow={(record, rowIndex) => {\n                            return {\n                                onClick: event => {this.selected(record)},\n                            };\n                        }}                \n                        columns={this.props.columns} \n                        dataSource={this.state.data} \n                        pagination={false}\n                    />\n                    \n                    {/* <table className={['table', 'table-striped', 'table-hover'].join(' ')}>\n                        <thead>\n                            <tr>\n                            <th></th>\n                            {this.props.columns.map((column, index) => <th key={index}>{column.title}</th>)}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {this.tableList()}\n                        </tbody>\n                    </table> */}\n                    <div className=\"pagination\">\n                        <span onClick={() => this.getPaginated(1)}>&laquo;</span>\n                        {renderPageNumbers}\n                        <span onClick={() => this.getPaginated(this.props.last_page)}>&raquo;</span>\n                    </div>\n                </DatatableStyleWrapper>\n            </React.Fragment>\n        );\n    };\n}\n\nDatatable.defaultProps = {\n    hideSearch: false\n}\n\nexport default withRouter(Datatable);","export { default } from './Datatable.component';"],"sourceRoot":""}