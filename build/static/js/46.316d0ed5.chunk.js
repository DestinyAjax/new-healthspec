(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[46],{1209:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(43),c=a(44),l=a(46),i=a(45),m=a(47),o=a(0),u=a.n(o),p=a(110),d=a.n(p),f=a(48),E=a(595),_=a(590),v=a(594),g=a(682),N=a(647),h=a(593),b=a(75),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={meta:{},current_page:1},a.getAllClaims=function(e){return"PROVIDER_ADMIN"==a.props.role_user.role.name?a.props.getAllClaims({page_number:1,role:a.props.role_user.role.name,id:a.props.role_user.organization_profile.id}):a.props.getAllClaims({id:1,page_number:e,role:"TENANT_ADMIN"})},a.markAsPaid=function(e){if(1==e.status&&("TENANT_ADMIN"==a.props.role_user.role.name||"AGENT"==a.props.role_user.role.name)){var t={status:3};t.claim_id=e.id,a.setState({submittingForm:!0},(function(){a.props.confirmClaim(t)}))}},a.getPrice=function(e,t){var a=0;return e.plan_services.map((function(e){return"admin_passed"==t?1==e.admin_passed&&(a+=Number(e.plan_service.price)*e.actual_quantity):1==e.is_passed&&(a+=Number(e.plan_service.price)*e.quantity),e})),a},a.getNewClaimsWith=function(e){a.getAllClaims(e)},a.navigateWith=function(e){a.props.history.push("/dashboard/claim_service_".concat(e.id))},a.displayStatusFrom=function(e){var t=u.a.createElement("div",{className:"pendingStatus"},"PENDING");return 1==e&&(t=u.a.createElement("div",{className:"activeStatus"},"AUTHORIZED")),2==e&&(t=u.a.createElement("div",{className:"inactiveStatus"},"UNAUTHORIZED")),3==e&&(t=u.a.createElement("div",{className:"paidStatus"},"PAID")),t},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllClaims(1)}},{key:"componentWillReceiveProps",value:function(e){var t=this;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(this.setState({meta:e.meta,current_page:e.meta.current_page}),e.confirm_claim_status==this.props.confirm_claim_status){a.next=7;break}if(200!==e.confirm_claim_status){a.next=7;break}return a.next=5,r.a.awrap(d()({title:"Good job!",text:"Claim status was updated successfully!",icon:"success",closeOnClickOutside:!1}));case 5:a.sent&&this.setState({submittingForm:!1},(function(){t.props.resetClaimConfirm()}));case 7:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){for(var e=this,t=[],a=1;a<=Math.ceil(this.state.meta.total/this.state.meta.per_page);a++)t.push(a);var n=t.map((function(t){var a=e.state.current_page===t?"active":"";if(1==t||t==e.state.meta.total||t>=e.state.current_page-2&&t<=e.state.current_page+2)return u.a.createElement("span",{key:t,className:a,onClick:function(){return e.getNewClaimsWith(t)}},t)})),r=u.a.createElement("div",{className:"text-center"},u.a.createElement(N.a,null));if(200!==this.props.status||this.props.claims.length||(r=u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"text-center"},u.a.createElement(g.a,{message:"No claim created yet"})))),200===this.props.status&&this.props.claims.length){var s=this.props.claims.map((function(t){return u.a.createElement("tr",{key:t.id},u.a.createElement("td",null,t.id),u.a.createElement("td",null,u.a.createElement("div",{className:"name"},u.a.createElement("div",{className:"tImage"},u.a.createElement("img",{src:t.user.primary_profile_picture})),u.a.createElement("div",{className:"tTitle"},u.a.createElement("div",{className:"head"},t.user.first_name," ",t.user.middle_name," ",t.user.last_name),u.a.createElement("div",{className:"sub"},t.user.enrollee_id)))),u.a.createElement("td",null,u.a.createElement("div",{className:"name"},u.a.createElement("div",{className:"tImage"},u.a.createElement("img",{src:t.provider.logo})),u.a.createElement("div",{className:"tTitle"},u.a.createElement("div",{className:"head"},t.provider.name),u.a.createElement("div",{className:"sub"},t.provider.code)))),u.a.createElement("td",null,"\u20a6 ",Number(e.getPrice(t,"passed_price")).toLocaleString()),u.a.createElement("td",null,"\u20a6 ",Number(e.getPrice(t,"admin_passed")).toLocaleString()),u.a.createElement("td",{onClick:function(){return e.markAsPaid(t)}},e.displayStatusFrom(t.status)," "),u.a.createElement("td",{onClick:function(){return e.navigateWith(t)}},u.a.createElement("i",{className:"fa fa-eye"})))}));r=u.a.createElement("div",null,u.a.createElement("table",{className:"table table-striped"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"S/N"),u.a.createElement("th",null,"Patient"),u.a.createElement("th",null,"Provider"),u.a.createElement("th",null,"Passed Price"),u.a.createElement("th",null,"Billable Price"),u.a.createElement("th",null,"Status"))),u.a.createElement("tbody",null,s,u.a.createElement("div",{className:"pagination"},u.a.createElement("span",{onClick:function(){return e.getNewClaimsWith(1)}},"\xab"),n,u.a.createElement("span",{onClick:function(){return e.getNewClaimsWith(e.props.meta.last_page)}},"\xbb")))))}return u.a.createElement(v.a,null,u.a.createElement(h.a,null,u.a.createElement(E.a,null,u.a.createElement(_.a,null,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-6"},u.a.createElement("h4",null,"Manage Claims"))),u.a.createElement("hr",null),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},r))))))}}]),t}(o.Component);t.default=Object(f.b)((function(e){return{role_user:e.ChoseRoleReducer.role,meta:e.ClaimReducer.meta,claims:e.ClaimReducer.claims,status:e.ClaimReducer.get_claims_status,confirm_claim_status:e.ClaimReducer.confirm_claim_status}}),(function(e){return{resetClaimConfirm:function(){return e(Object(b.j)())},confirmClaim:function(t){return e(Object(b.a)(t))},getAllClaims:function(t){return e(Object(b.d)(t))}}}))(C)},590:function(e,t,a){"use strict";var n=a(59),r=a(52),s=a(30);function c(){var e=Object(n.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return c=function(){return e},e}var l=r.c.div(c(),Object(s.palette)("border",0));t.a=l},646:function(e,t,a){e.exports={container:"Spinner.component_container__W-GWN",content:"Spinner.component_content__11MBV",message:"Spinner.component_message__3kFxw"}},647:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(646),c=a.n(s),l=function(e){var t=e.message;return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.content},r.a.createElement("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw"}),r.a.createElement("div",{className:c.a.message},t)))};l.defaultProps={message:"Loading"};var i=l;a.d(t,"a",(function(){return i}))},678:function(e,t,a){e.exports={container:"EmptyState.component_container__24MCK",content:"EmptyState.component_content__2S8fd",message:"EmptyState.component_message___WVjs"}},682:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(678),c=a.n(s),l=function(e){var t=e.message;return r.a.createElement("div",{className:c.a.container},r.a.createElement("div",{className:c.a.content},r.a.createElement("div",{className:c.a.message},t)))};l.defaultProps={message:"Data is empty"};var i=l;a.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=46.316d0ed5.chunk.js.map