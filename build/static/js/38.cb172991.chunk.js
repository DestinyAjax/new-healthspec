(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[38],{1029:function(e,t,a){e.exports={button:"ModeratorForm.component_button__mrErt",link:"ModeratorForm.component_link__3XUMN",cancelOrBack:"ModeratorForm.component_cancelOrBack__3ULdt",buttonContainer:"ModeratorForm.component_buttonContainer__ZusJO",inlineGroup:"ModeratorForm.component_inlineGroup__37oBi",formGroup:"ModeratorForm.component_formGroup__3tiyT",organizationFooter:"ModeratorForm.component_organizationFooter__1UVzO"}},1226:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(43),i=a(44),c=a(46),l=a(45),s=a(47),m=a(0),u=a.n(m),p=a(110),d=a.n(p),h=a(192),f=a(48),g=a(243),b=a(595),E=a(590),v=a(594),A=(a(244),a(159)),S=a(137),w=a(245),C=a(120),O=a(584),k=a(585),y=a(639),U=a(1029),j=a.n(U),I=a(160),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(n)))).state={file:null,image_string:null},a.handleSubmit=function(e){e.picture=a.state.image_string,a.props.onSubmit(e)},a.fileInputHandler=function(e,t){a.setState({file:e,image_string:t})},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.props.handleSubmit(this.handleSubmit)},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-3 col-lg-3 col-sm-12 col-xs-12"},u.a.createElement(y.a,{fileInputHandler:this.fileInputHandler})),u.a.createElement("div",{className:"col-md-9 col-lg-9 col-sm-12 col-xs-12"},u.a.createElement(A.a,{title:"Create Moderator Form",style:{width:"100%"}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"surname",component:S.a,type:"text",label:"Surname",validate:[I.h]})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"first_name",component:S.a,type:"text",label:"Firstname",validate:[I.h]})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"other_name",component:S.a,type:"text",label:"Othername",validate:[]})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"email",component:S.a,type:"email",label:"Email",validate:[I.h,I.a]})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"primary_phone_number",component:S.a,type:"text",label:"Phone number",validate:[I.h,I.g,I.f]})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(O.a,{name:"gender",component:w.a,label:"Gender",validate:[I.h],options:[{displayValue:"Male",value:"M"},{displayValue:"Female",value:"F"}]})))),u.a.createElement("br",null),u.a.createElement("div",{className:"row col-md-6"},u.a.createElement("div",{className:j.a.organizationFooter},u.a.createElement("div",{className:j.a.buttonContainer},u.a.createElement("div",{className:j.a.button},u.a.createElement(C.a,{disabled:this.props.invalid||this.props.pristine||null===this.state.image_string,submittingForm:this.props.submittingForm},"Submit"))))))))}}]),t}(u.a.Component),F=Object(k.a)({form:"ModeratorForm"})(x),R=a(118),M=a(593),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={submittingForm:!1},a.handleSubmit=function(e){var t;return n.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t={HMO:7,PROVIDER:8,COMPANY:9,AGENT:10,BANK:14},e.organization_profile_id=a.props.role.organization_profile.id,e.role_id=t[a.props.role.organization_profile.organization.name],null!=e.picture){r.next=7;break}return r.next=6,n.a.awrap(d()({text:"You must pick an image",icon:"error",closeOnClickOutside:!0}));case 6:return r.abrupt("return",r.sent);case 7:a.setState({submittingForm:!0},(function(){return a.props.storeUser(e)}));case 8:case"end":return r.stop()}}))},a.showNotification=function(e){return n.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.store_user_status){t.next=7;break}return a.props.reset("ModeratorForm"),a.setState({activeStep:0,submittingForm:!1}),t.next=5,n.a.awrap(d()({title:"Good job!",text:"Moderator was created successfully!",icon:"success",closeOnClickOutside:!1}));case 5:t.sent&&a.props.resetStoreUser();case 7:if(422!=e.store_agent_status){t.next=12;break}return t.next=10,n.a.awrap(d()({title:"Opps",text:"Phone number already exists successfully!",icon:"error",closeOnClickOutside:!1}));case 10:t.sent&&(a.props.resetStoreUser(),a.setState({submittingForm:!1}));case 12:case"end":return t.stop()}}))},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.showNotification(e)}},{key:"render",value:function(){return u.a.createElement(v.a,null,u.a.createElement(M.a,null,u.a.createElement(b.a,null,u.a.createElement(E.a,null,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-6"},u.a.createElement("h4",null,"Create New Moderator")),u.a.createElement("div",{className:"col-md-6 text-right"},u.a.createElement(h.b,{to:"/dashboard/moderator_all"},u.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary"},"All Moderators")))),u.a.createElement("hr",null),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement(F,{onSubmit:this.handleSubmit,submittingForm:this.state.submittingForm})))))))}}]),t}(m.Component);t.default=Object(f.b)((function(e){return{role:e.ChoseRoleReducer.role,store_user_status:e.UserReducer.store_user_status}}),(function(e){return{reset:function(t){return e(Object(g.a)(t))},resetStoreUser:function(){return e(Object(R.e)())},storeUser:function(t){return e(Object(R.f)(t))}}}))(N)},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(56),n=(a(7),r.a.arrayInsert,r.a.arrayMove,r.a.arrayPop,r.a.arrayPush,r.a.arrayRemove,r.a.arrayRemoveAll,r.a.arrayShift,r.a.arraySplice,r.a.arraySwap,r.a.arrayUnshift,r.a.autofill,r.a.blur,r.a.change,r.a.clearAsyncError,r.a.clearFields,r.a.clearSubmit,r.a.clearSubmitErrors,r.a.destroy,r.a.focus,r.a.initialize,r.a.registerField,r.a.reset);r.a.resetSection,r.a.setSubmitFailed,r.a.setSubmitSucceeded,r.a.startAsyncValidation,r.a.startSubmit,r.a.stopAsyncValidation,r.a.stopSubmit,r.a.submit,r.a.touch,r.a.unregisterField,r.a.untouch,r.a.updateSyncWarnings,r.a.updateSyncErrors},590:function(e,t,a){"use strict";var r=a(59),n=a(52),o=a(30);function i(){var e=Object(r.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return i=function(){return e},e}var c=n.c.div(i(),Object(o.palette)("border",0));t.a=c},637:function(e,t,a){e.exports={imageContainer:"ImageUploader.component_imageContainer__3JoKW",button:"ImageUploader.component_button__7n0T-",croppedImage:"ImageUploader.component_croppedImage__1vAwQ",upload_image:"ImageUploader.component_upload_image__20_YH",ReactCrop__image:"ImageUploader.component_ReactCrop__image__hAw_G",center:"ImageUploader.component_center__V-cx8",submitButton:"ImageUploader.component_submitButton__2r0mA",container:"ImageUploader.component_container__1IvHb"}},638:function(e,t){e.exports="data:image/png;base64,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"},639:function(e,t,a){"use strict";a(244);var r=a(159),n=a(1),o=a.n(n),i=a(43),c=a(44),l=a(46),s=a(45),m=a(164),u=a(47),p=a(0),d=a.n(p),h=a(48),f=a(643),g=a.n(f),b=a(110),E=a.n(b),v=(a(644),a(637)),A=a.n(v),S=a(101),w=a(165),C=a(588),O=a(697),k=a(161),y=a(160),U=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={imageUri:a(638),src:null,crop:{unit:"%",width:30,aspect:1},modal:!1,makeSelection:!1,file:null,croppedImageUrl:null},r.getCroppedImg=function(e,t,a){var r=document.createElement("canvas"),n=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e,t.x*n,t.y*o,t.width*n,t.height*o,0,0,t.width,t.height),r.toDataURL("image/jpeg")},r.onSelectFile=function(e){var t,a,n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.target.files&&e.target.files.length>0)){i.next=10;break}if(t=new FileReader,a=e.target.files[0],(n=Object(y.b)(a,Object(m.a)(r)))[0]){i.next=8;break}return i.next=7,o.a.awrap(E()({title:"type"===n[2]?"Invalid image type":"Invalid image size",text:n[1],icon:"error",closeOnClickOutside:!1}));case 7:return i.abrupt("return");case 8:t.addEventListener("load",(function(){return r.setState({src:t.result,file:a})})),t.readAsDataURL(a);case 10:case"end":return i.stop()}}))},r.onImageLoaded=function(e){r.imageRef=e},r.onCropComplete=function(e){r.makeClientCrop(e)},r.onCropChange=function(e,t){r.setState({crop:e})},r.triggerInputFile=function(){return r.fileInput.click()},r.toBase64=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))},r.openModal=function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),r.props.openModal(w.b,{},!0)},r.setImage=function(e,t){r.props.closeModal(),r.setState({src:t},(function(){r.props.fileInputHandler(e,t),r.setState({croppedImageUrl:t})}))},r.makeSelection=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r.setState({src:null,imageUri:r.state.croppedImageUrl,makeSelection:!1}),e=null,null===r.state.file?(r.setState({file:r.props.file}),e=r.props.file):e=r.state.file,t.next=5,o.a.awrap(r.toBase64(e));case 5:return t.sent,t.abrupt("return",r.props.fileInputHandler(r.state.file,r.state.croppedImageUrl));case 7:case"end":return t.stop()}}))},r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"makeClientCrop",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(this.imageRef&&e.width&&e.height)){a.next=5;break}return a.next=3,o.a.awrap(this.getCroppedImg(this.imageRef,e,"newFile.jpeg"));case 3:t=a.sent,this.setState({croppedImageUrl:t,makeSelection:!0});case 5:case"end":return a.stop()}}),null,this)}},{key:"componentWillReceiveProps",value:function(e){this.setImage(e.file,e.image_string)}},{key:"render",value:function(){var e=this,t=this.state,a=t.src,n=t.crop,o=t.croppedImageUrl,i=t.makeSelection,c=d.a.createElement(d.a.Fragment,null,d.a.createElement(C.a,{size:"sm",color:"primary",className:"form-control mb-2",onClick:this.triggerInputFile},d.a.createElement(k.h,null)," "," ",d.a.createElement("span",null,"Upload from device"),d.a.createElement("input",{style:{display:"none"},type:"file",accept:"image/*",ref:function(t){return e.fileInput=t},onChange:this.onSelectFile,className:A.a.upload_image})),d.a.createElement(C.a,{size:"sm",color:"primary",className:"mr-2 mb-2 form-control",onClick:this.openModal},d.a.createElement(k.e,null)," ",d.a.createElement("span",null,"Take a picture with camera")));return o&&i&&(c=d.a.createElement(C.a,{size:"sm",color:"success",className:"form-control",onClick:this.makeSelection},d.a.createElement(k.f,null)," "," ",d.a.createElement("span",null,"Finish crop"))),d.a.createElement(p.Fragment,null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement(r.a,{style:{width:"100%"}},a&&d.a.createElement(g.a,{src:a,crop:n,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),!a&&d.a.createElement(O.a,{top:!0,width:"100%",src:this.state.imageUri,alt:"Card image cap",style:{padding:"20px"}})),d.a.createElement("div",{className:"pt-4 text-center"},c))))}}]),t}(d.a.Component);U.defaultProps={size:128e3};var j=Object(h.b)((function(e){return{file:e.takePictureReducer.file,image_string:e.takePictureReducer.image_string}}),(function(e){return{closeModal:function(){return e(Object(S.a)())},openModal:function(t,a){return e(Object(S.b)(t,a))}}}))(U);a.d(t,"a",(function(){return j}))}}]);
//# sourceMappingURL=38.cb172991.chunk.js.map