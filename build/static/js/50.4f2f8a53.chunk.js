(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[50],{1179:function(e,t,n){"use strict";n.r(t);n(244);var a=n(159),r=n(1),o=n.n(r),i=n(43),s=n(44),c=n(46),l=n(45),u=n(47),m=n(0),p=n.n(m),d=n(110),f=n.n(d),b=n(48),h=n(595),_=n(590),E=n(594),v=(n(592),n(593)),R=n(785),j=n(84),k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={submittingForm:!1},n.handleSubmit=function(e){n.setState({submittingForm:!0}),e.slug=n.props.match.params.slug,n.props.updateRole(e)},n.showNotification=function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.update_role_status){t.next=5;break}return t.next=3,o.a.awrap(f()({title:"Good job!",text:"".concat(e.role.name," was updated successfully!"),icon:"success",closeOnClickOutside:!1}));case 3:t.sent&&(n.props.resetUpdateRole(),n.props.history.push("/dashboard/role_all"));case 5:case"end":return t.stop()}}))},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.showNotification(e)}},{key:"componentDidMount",value:function(){this.props.getRole(this.props.match.params.slug)}},{key:"componentWillUnmount",value:function(){this.props.resetStoreRole()}},{key:"render",value:function(){return p.a.createElement(E.a,null,p.a.createElement(v.a,null,p.a.createElement(h.a,null,p.a.createElement(_.a,null,p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-6"},p.a.createElement("h4",null,"Role Update"))),p.a.createElement("hr",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-12"},p.a.createElement(a.a,{style:{width:"100%"}},p.a.createElement(R.a,{onSubmit:this.handleSubmit,initialValues:this.props.role,permissions:this.props.permissions,role_permissions:this.props.role.permission_roles,submittingForm:this.state.submittingForm,btnText:"Update"}))))))))}}]),t}(m.Component);t.default=Object(b.b)((function(e){return{role:e.RoleReducer.role,status:e.RoleReducer.get_role_status,permissions:e.RoleReducer.permissions,update_role_status:e.RoleReducer.update_role_status}}),(function(e){return{getRole:function(t){return e(Object(j.d)(t))},resetStoreRole:function(){return e(Object(j.j)())},resetUpdateRole:function(){return e(Object(j.k)())},updateRole:function(t){return e(Object(j.o)(t))}}}))(k)},590:function(e,t,n){"use strict";var a=n(59),r=n(52),o=n(30);function i(){var e=Object(a.a)(["\n  width: 100%;\n  padding: 35px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  height: 100%;\n"]);return i=function(){return e},e}var s=r.c.div(i(),Object(o.palette)("border",0));t.a=s},591:function(e,t,n){e.exports={container:"Breadcrumb.component_container__2V5_E",item:"Breadcrumb.component_item__ZqqpH",itemTwo:"Breadcrumb.component_itemTwo__1JtzI"}},592:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(48),i=n(192),s=n(74),c=n(591),l=n.n(c),u=function(e){var t=e.links.map((function(e){return r.a.createElement(i.b,{to:e.url,className:[l.a.item,l.a.itemTwo].join(" "),key:e.url}," > ",e.name)}));return r.a.createElement("div",{className:"card-body bg-light "},r.a.createElement(i.b,{className:l.a.item,to:"/chose_role"},"Dashboard"),t)};u.defaultProps={links:[]};var m=Object(s.g)(Object(o.b)((function(e){return{active:e.ChoseRoleReducer.role}}))(u));n.d(t,"a",(function(){return m}))},759:function(e,t,n){e.exports={formContainer:"RoleForm.component_formContainer__1Ligp",permission:"RoleForm.component_permission__3nmHY",questionHeader:"RoleForm.component_questionHeader__12_ym",inlineGroup:"RoleForm.component_inlineGroup__1Pwgu",formGroup:"RoleForm.component_formGroup__2T-2t",buttonContainer:"RoleForm.component_buttonContainer__1kd2W",button:"RoleForm.component_button__sU5AB"}},785:function(e,t,n){"use strict";n(244);var a=n(159),r=n(40),o=n(43),i=n(44),s=n(46),c=n(45),l=n(47),u=n(0),m=n.n(u),p=n(137),d=n(120),f=n(584),b=n(585),h=n(759),_=n.n(h),E=n(160),v=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={permissions:[]},n.setPermissions=function(){var e=n.props.role_permissions.map((function(e){return e.permission.id})),t=n.props.permissions.map((function(t){return e.includes(t.id)?t.is_picked=!0:t.is_picked=!1,t}));n.setState({permissions:t})},n.permissionHandler=function(e,t){e.is_picked=!e.is_picked;var a=Object(r.a)(n.state.permissions);a[t]=e,n.setState({permissions:a})},n.handleSubmit=function(e){e.permissions=n.state.permissions.filter((function(e){return e.is_picked})).map((function(e){return e.id})),n.props.submit(e)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setPermissions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,r=t.pristine,o=t.invalid,i=t.btnText,s=this.state.permissions.map((function(t,n){var a=m.a.createElement("i",{className:"fa fa-circle-o","aria-hidden":"true"});return t.is_picked&&(a=m.a.createElement("i",{className:"fa fa-circle","aria-hidden":"true"})),m.a.createElement("tr",{key:t.id,onClick:function(){return e.permissionHandler(t,n)}},m.a.createElement("td",null,a),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.url),m.a.createElement("td",null,t.description))}));return m.a.createElement("form",{onSubmit:n(this.handleSubmit)},m.a.createElement(a.a,{style:{width:"100%"}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement(f.a,{name:"name",component:p.a,type:"text",label:"Name",validate:[E.h]}))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("div",{className:_.a.questionHeader},"Permissions"),m.a.createElement("div",null,m.a.createElement("table",null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Url"),m.a.createElement("th",null,"Description"))),m.a.createElement("tbody",null,s)))))),m.a.createElement("div",{className:_.a.buttonContainer},m.a.createElement("div",{className:_.a.button},m.a.createElement(d.a,{disabled:o||r},i))))}}]),t}(m.a.Component),R=Object(b.a)({form:"RoleForm"})(v);n.d(t,"a",(function(){return R}))}}]);
//# sourceMappingURL=50.4f2f8a53.chunk.js.map